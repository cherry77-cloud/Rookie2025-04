## 一. MySQL的执行引擎有哪些

MySQL的执行引擎主要负责查询的执行和数据的存储，其执行引擎主要有MyISAM, InnoDB，Memery等

- InnoDB引擎提供了对事务ACID的支持，还提供了行级锁和外键的约束，是目前MySQL的默认存储引擎，适用于需要事务和高并发的应用。

- MyISAM引擎是早期的默认存储引擎，支持全文索引，但是不支持事务，也不支持行级锁和外键约束，适用于快速读取且数据量不大的场景。

- Memery就是将数据放在内存中，访问速度快，但数据在数据库服务器重启后丢失。


## 二. MySQL为什么使用B+树来索引

B+树是B树的变种，提供了高效的数据检索，插入，删除和范围查询性能。

- 单点查询：B树进行单个索引查询时，时间代价为O(logn)。从平均时间代价来看，会比B+树稍快一些。但是B树的查询波动会比较大，因为每个节点既存索引又存记录，所以有时候访问到了非叶子节点就可以找到索引，而有时需要访问到叶子节点才能找到索引。B+树的非叶子节点不存放实际的记录数据，仅存放索引，所以数据量相同的情况下，相比存储即存索引又存记录的B树，B+树的非叶子节点可以存放更多的索引，因此B+树可以比B树更矮胖，查询底层节点的磁盘I/O次数会更少。

- 插入和删除效率：B+树有大量的冗余节点，删除一个节点的时候，可以直接从叶子节点删除，甚至可以不动非叶子节点，删除非常快。B+树的插入也是一样，有冗余节点，插入可能存在节点的分裂(如果节点饱和)，但是最多只涉及树的一条路径。B树没有冗余节点，删除节点的时候非常复杂，可能涉及复杂的树的变形。

- 范围查询：B+树所有叶子节点间有一个链表进行连接，而B树没有将所有叶子节点用链表串联起来的结构，因此只能通过树的遍历来完成范围查询，这会涉及多个节点的磁盘I/O操作，范围查询效率不如B+树。存在大量范围检索的场景，适合使用B+树，比如数据库。而对于大量单个索引查询的场景，可以考虑B树，比如nosql的MongoDB。



## 三. 说一下索引失效的场景
索引失效意味着查询操作不能有效利用索引进行数据检索，从而导致性能下降，下面一些场景会发生索引失效
- 使用OR条件：当使用OR连接多个条件，并且每个条件用到不同的索引列时，索引可能不会被使用
- 使用非等值查询：使用!=或<>操作符时，索引可能不会被使用，特别是当非等值条件在WHERE子句中的开始部分时
- 对列进行类型转换：如果在查询中对列进行类型转换，例如将字符列转换为数字或日期，索引可能失效
- 使用LIKE语句：以通配符%开头的LIKE查询会导致索引失效
- 函数或表达式：在列上使用函数或表达式作为查询条件，通常会导致索引失效
- 表连接中的列类型不匹配；如果在连接操作中涉及的两个表的列类型不匹配，索引可能会失效。例如，一个表的列是整数，另一个表的列是字符，连接时可能会导致索引失效。
