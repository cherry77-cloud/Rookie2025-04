## 一. 什么是慢查询，原因是什么，可以怎么优化

数据库查询的执行时间超过指定的超时时间时，就被称为慢查询

原因
- 查询语句比较复杂：查询涉及多个表，包含复杂的连接和子查询，可能导致执行时间较长。
- 查询数据量大：当查询的数据量庞大时，即使查询本身并不复杂，也可能导致较长的执行时间。
- 缺少索引：如果查询的表没有合适的索引，需要遍历整张表才能找到结果，查询速度较慢。
- 数据库设计不合理：数据库表设计庞大，查询时可能需要较多时间。
- 并发冲突：当多个查询同时访问相同的资源时，可能发生并发冲突，导致查询变慢。
- 硬件资源不足：如果MySQL服务器上同时运行了太多的查询，会导致服务器负载过高，从而导致查询变慢。

优化
- 运行语句，找到慢查询的sql
- 查询区分度最高的字段
- explain：显示MySQL如何使用索引来处理select语句以及连接表，可以帮助选择更好的索引，写出更优化的查询语句。
- order by name形式的sql语句，让排序的表优先查
- 考虑建立索引原则

---

## 二. undo log, redo log, binlog有什么用
- undo log是Innodb存储引擎层生成的日志，实现了事务中的原子性，主要用于事务回滚和MVCC
- redo log是物理日志，记录了某个数据页做了什么修改，每当执行一个事务就会产生一条或者多条物理日志。
- binlog(归档日志)是Server层生成的日志，主要用于数据备份和主从复制。
