## 一. 进程和线程的区别

### 1. 基本定义
- **进程**：资源分配和调度的基本单位，拥有独立的内存空间。
- **线程**：程序执行的最小单元，是进程的子任务。多个线程共享同一进程的内存空间。

### 2. 资源开销
- **进程**：
  
  - 创建/销毁开销大（需分配独立内存）。
  - 进程间切换需保存/恢复整个进程状态，上下文切换开销高。
- **线程**：
  
  - 创建/销毁开销小（共享内存）。
  - 线程间切换仅需保存/恢复少量线程上下文，开销低。

### 3. 通信与同步
- **进程**：
  
  - 通信需通过特殊机制（如管道、消息队列、共享内存）。
  - 隔离性强，安全性高。
- **线程**：
  
  - 可直接通过共享内存通信，更高效。
  - 需同步机制（如锁、信号量）避免数据竞争。

### 4. 安全性
- **进程**：崩溃不会影响其他进程。
- **线程**：一个线程崩溃可能导致整个进程终止。

---

## 二. 并行与并发的区别

### 1. 并行（`Parallelism`）
- **定义**：同一时刻执行多个任务，需多核/多处理器支持。
- **特点**：
  
  - 任务真正同时执行。
  - 适用于计算密集型场景（如图像处理）。

### 2. 并发（`Concurrency`）
- **定义**：同一时间段内交替执行多个任务，单核即可实现。
- **特点**：
  
  - 通过时间片轮转或事件驱动实现“看似同时”。
  - 适用于I/O密集型场景（如Web服务器）。

---

## 三. 用户态与内核态

### 1. 基本概念
- **用户态**：
  
  - 进程运行在受限权限下，无法直接访问硬件。
  - 只能执行非特权指令（如用户程序）。
- **内核态**：
  
  - 操作系统运行的特权模式，可执行所有指令。
  - 直接管理硬件和系统资源（如内存分配、设备驱动）。

### 2. 切换场景
| **场景**       | **描述**                                                                 |
|----------------|--------------------------------------------------------------------------|
| **系统调用**   | 用户程序主动请求内核服务（如文件读写、网络通信）。                       |
| **异常**       | 程序执行出错（如除零错误、缺页异常），触发内核处理机制。                 |
| **中断**       | 硬件设备触发中断信号（如键盘输入、磁盘I/O完成），需内核响应。            |

### 3. 切换过程
1. 用户态 → 内核态：通过软中断（如 `int 0x80`）或系统调用指令。
2. 内核态 → 用户态：恢复用户程序上下文并跳转回原执行点。
